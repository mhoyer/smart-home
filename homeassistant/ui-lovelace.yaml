custom_header:
  compact_mode: false

resources:
  - type: module
    url: /local/zigbee2mqtt-networkmap.js?v=0.6.0
    # see: https://github.com/azuwis/zigbee2mqtt-networkmap
  - type: module
    url: /local/custom-header.js?v=1.7.6
    # see: https://github.com/maykar/custom-header
  - type: module
    url: /local/mini-graph-card-bundle.js?v=0.9.4
    # see: https://github.com/kalkih/mini-graph-card

title: Tatooine Smart Home
views:
  - path: default_view
    title: Home
    badges:
      - entity: binary_sensor.updater
      - entity: person.marcel_hoyer
      - entity: sun.sun
    cards:
      - type: vertical-stack
        cards:
        - title: Flur
          type: entities
          show_header_toggle: true
          entities:
            - entity: light.hall_light_01_light
              name: Eingang
            - entity: light.hall_light_02_light
              name: Mitte
            - entity: light.hall_light_03_light
              name: Hinten
        - title: Wohnzimmer
          type: entities
          entities:
            - entity: light.living_light_ceiling_light
              name: Decke
            - entity: light.living_ball_light_light
              name: Ball
        - title: KÃ¼che
          type: entities
          entities:
            - entity: light.kitchen_light_light
              name: Decke
            - entity: light.kitchen_light_corner_light
              name: Eckschrank
            - type: divider
            - entity: sensor.kitchen_env_temperature
              name: Temperatur
            - entity: sensor.kitchen_env_humidity
              name: Luftfeuchtigkeit
        - title: Schlafzimmer
          type: entities
          entities:
            - entity: light.sleep_light_light
              name: Decke
            - entity: cover.sleep_blinds_left_cover
              name: Schlafzimmerrollo (links)
            - entity: cover.sleep_blinds_right_cover
              name: Schlafzimmerrollo (rechts)
            - type: divider
            - entity: sensor.sleep_env_temperature
              name: Temperatur
            - entity: sensor.sleep_env_humidity
              name: Luftfeuchtigkeit
            - entity: sensor.sleep_env_pressure
              name: Luftdruck
            - entity: sensor.sleep_blinds_left_battery 
              name: Schlafzimmerrollo (links)
            - entity: sensor.sleep_blinds_right_battery 
              name: Schlafzimmerrollo (rechts)
        - title: Bad
          type: entities
          entities:
            - entity: light.bath_mirror_light_light
              name: Spiegel
            - entity: light.bath_light_01_light
              name: Dusche
            - entity: light.bath_light_02_light
              name: Eingang
            - entity: light.bath_light_03_light
              name: Waschbecken
            - entity: light.bath_light_04_light
              name: Wanne
            - type: divider
            - entity: sensor.bath_env_temperature
              name: Temperatur
            - entity: sensor.bath_env_humidity
              name: Luftfeuchtigkeit
            - entity: sensor.bath_env_pressure
              name: Luftdruck
            - entity: sensor.bath_motion_illuminance
              name: Helligkeit
            - entity: binary_sensor.bath_motion_occupancy
              name: Besetzt?

        - type: custom:mini-graph-card
          height: 60
          font_size: 60
          lower_bound: 0
          upper_bound: 100
          line_width: 2
          entities:
            - entity: sensor.sleep_blinds_ctrl_01_battery
              name: Blinds Ctrl 01
            - entity: sensor.sleep_blinds_ctrl_02_battery
              name: Blinds Ctrl 02
            - entity: sensor.hall_switch_01_battery
              name: Hall Switch 01
            - entity: sensor.hall_switch_02_battery
              name: Hall Switch 02
            - entity: sensor.living_switch_battery
              name: Living Switch

      - type: vertical-stack
        cards:
        - type: weather-forecast
          entity: weather.home
        - type: history-graph
          title: 'Speedtest'
          hours_to_show: 48
          refresh_interval: 0
          entities:
            - entity: sensor.speedtest_download
              name: Download
            - entity: sensor.speedtest_upload
              name: Upload
        - type: entities
          entities:
            - sensor.speedtest_ping
 
  - title: Zigbee Network
    panel: true # this renders the first card on full width, other cards in this view will not be rendered
    cards:
      - type: custom:zigbee2mqtt-networkmap
        entity: sensor.zigbee2mqtt_networkmap
        # the following are optional:
        mqtt_base_topic: zigbee2mqtt # if you change base_topic of Zigbee2mqtt, change it accordingly
        force: 3000 # decrease it to get smaller map if you have many devices
        node_size: 16
        font_size: 12
        link_width: 2
        height: 400 # height of the card
        # use this css config or use whatever css tech to change look and feel,
        # the same variable can also be used in Home Assistant themes, see https://www.home-assistant.io/components/frontend/#defining-themes
        css: |
          :host {
            --zigbee2mqtt-networkmap-node-color: rgba(18, 120, 98, .7);
            --zigbee2mqtt-networkmap-node-fill-color: #dcfaf3;
            --zigbee2mqtt-networkmap-node-pinned-color: rgba(190, 56, 93, .6);
            --zigbee2mqtt-networkmap-link-color: rgba(18, 120, 98, .5);
            --zigbee2mqtt-networkmap-hover-color: #be385d;
            --zigbee2mqtt-networkmap-link-selected-color: rgba(202, 164, 85, .6);
            --zigbee2mqtt-networkmap-label-color: #127862;
            --zigbee2mqtt-networkmap-arrow-color: rgba(18, 120, 98, 0.7);
            --zigbee2mqtt-networkmap-node-coordinator-color: rgba(224, 78, 93, .7);
            --zigbee2mqtt-networkmap-node-router-color: rgba(0, 165, 255, .7);
          }

